{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TaskMaster</title>
    <link rel="stylesheet" href="{% static 'tasks/style.css' %}">
</head>
<body>
    <button onclick="toggleTheme()" id="theme-toggle" style="float: right; margin: 10px;">ðŸŒ“ Dark/Light mode</button>
    <div class="container">
        <header>
            <h1><a href="/">TaskMaster</a></h1>
            <nav>
                <a href="/tasks/">Task List</a>
                {% if user.is_authenticated %}
                    <a href="/tasks/create/">Create Task</a>
                    <a href="/accounts/logout/">Logout</a>
                    <h3>Welcome, {{ user.username }}</h3>
                {% else %}
                    <a href="/accounts/login/">Login</a>
                    <a href="/accounts/register/">Register</a>
                {% endif %}
            </nav>
        </header>
        <hr>
        <main>
            {% block content %}{% endblock %}
        </main>
    </div>
<!----- For Toast -->
    {% if messages %}
<div id="toast-container">
    {% for message in messages %}
    <div class="toast">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

    <!----- For light - dark mode toggle -->
    <script>
        // On page load: check saved theme and apply it
        document.addEventListener("DOMContentLoaded", function () {
            const savedTheme = localStorage.getItem("theme");
            if (savedTheme === "dark") {
                document.body.classList.add("dark-mode");
            }
        });
        
        // Toggle theme and save preference
        function toggleTheme() {
            document.body.classList.toggle("dark-mode");
            const currentTheme = document.body.classList.contains("dark-mode") ? "dark" : "light";
            localStorage.setItem("theme", currentTheme);
        }
        </script>
        
        
</body>
</html>
